from logging import getLogger, Formatter, DEBUG, FileHandler, StreamHandler


def get_logger(name, start_dt):
    """
    return logger instance with formatting
    """
    logger = getLogger(name)
    logger.setLevel(DEBUG)

    f_handler = FileHandler('../../log/log_{0:%m%d_%H%M%S}.log'.format(start_dt))
    formatter = Formatter('[%(asctime)s %(process)d %(levelname)s] %(message)s', '%H:%M:%S')
    f_handler.setFormatter(formatter)
    logger.addHandler(f_handler)

    s_handler = StreamHandler()
    s_handler.setLevel(DEBUG)
    s_handler.setFormatter(formatter)
    logger.addHandler(s_handler)

    return logger
